# Helionyx Staging Environment Configuration
#
# This is a complete example for the STAGING environment.
# 
# TO USE:
#   1. Copy this file: cp .env.staging.example .env.staging
#   2. Replace <placeholder> values with your actual credentials
#   3. Run with: ENV=staging make run (or specify ENV=staging in your command)
#
# ENVIRONMENT: Staging (pre-production testing, moderate logging, isolated data)
# PORT: 8001 (standard staging port)
# SERVICE: helionyx-staging.service

# =============================================================================
# Environment
# =============================================================================
# Note: ENV is set via CLI (ENV=staging), not in this file

# =============================================================================
# API Server
# =============================================================================
# Bind to all interfaces
API_HOST=0.0.0.0

# Staging environment uses port 8001 (distinct from dev=8000, live=8002)
API_PORT=8001

# =============================================================================
# Storage (Staging Paths)
# =============================================================================
# Event store - isolated from dev and live
EVENT_STORE_PATH=/var/lib/helionyx/staging/events

# Projections database - separate from other environments
PROJECTIONS_DB_PATH=/var/lib/helionyx/staging/projections/helionyx.db

# Backups (recommended to keep backups on the encrypted mount)
BACKUP_ROOT=/var/lib/helionyx/backups

# =============================================================================
# OpenAI LLM
# =============================================================================
# Required: Your OpenAI API key (same as dev/live, or use separate key)
OPENAI_API_KEY=<your_openai_api_key_here>

# Use same cost-efficient model as dev
OPENAI_MODEL=gpt-4o-mini

# Standard parameters
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# Rate limiting
OPENAI_RATE_LIMIT_RPM=10
OPENAI_RATE_LIMIT_TPM=150000

# Error handling
LLM_MAX_RETRIES=3
LLM_RETRY_BASE_DELAY=1.0

# Cost control - MODERATE limits for staging (more than dev, less than live)
LLM_DAILY_COST_WARNING_USD=1.0
LLM_DAILY_COST_LIMIT_USD=10.0

# =============================================================================
# Telegram Bot (Staging Bot)
# =============================================================================
# Required: Create a SEPARATE bot for staging via @BotFather
# Bot name suggestion: helionyx_staging_bot
#
# Setup:
#   1. Open Telegram, chat with @BotFather
#   2. Send: /newbot
#   3. Name: helionyx_staging_bot  (or similar)
#   4. Copy the token below
#
# CRITICAL: Use a different bot than dev/live to prevent cross-environment confusion
TELEGRAM_BOT_TOKEN=<your_staging_bot_token_from_botfather>

# Your Telegram user chat ID (same user as dev/live)
TELEGRAM_CHAT_ID=<your_telegram_user_id>

# Notification settings - ENABLED for realistic pre-production testing
NOTIFICATIONS_ENABLED=true

# Notification timing (same as live for realistic testing)
DAILY_SUMMARY_HOUR=20
REMINDER_WINDOW_START=8
REMINDER_WINDOW_END=21
REMINDER_ADVANCE_HOURS=24

# =============================================================================
# Logging
# =============================================================================
# Info-level logging for staging (less verbose than dev, more than live)
LOG_LEVEL=INFO
