# Helionyx Environment Configuration Template
# 
# Copy this to .env.dev, .env.staging, or .env.live and fill in your values
# Environment-specific files override base .env settings
#
# Usage:
#   ENV=dev make run      # Uses .env.dev
#   ENV=staging make run  # Uses .env.staging
#   ENV=live make run     # Uses .env.live

# =============================================================================
# Environment (set via ENV variable, not in file)
# =============================================================================
# ENV=dev|staging|live    # Set via environment variable or CLI

# =============================================================================
# Storage Configuration
# =============================================================================

# Event store (append-only log)
EVENT_STORE_PATH=./data/events

# Projection database
PROJECTIONS_DB_PATH=./data/projections/helionyx.db

# =============================================================================
# API Server Configuration
# =============================================================================

# API server host (0.0.0.0 for all interfaces, 127.0.0.1 for localhost only)
API_HOST=0.0.0.0

# API server port (must be unique per environment on same host)
API_PORT=8000

# =============================================================================
# OpenAI LLM Configuration
# =============================================================================

# Required: Your OpenAI API key
OPENAI_API_KEY=

# Model selection (gpt-4o-mini recommended for cost efficiency)
OPENAI_MODEL=gpt-4o-mini

# LLM parameters
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# Rate limiting
OPENAI_RATE_LIMIT_RPM=10           # Requests per minute
OPENAI_RATE_LIMIT_TPM=150000       # Tokens per minute

# Error handling
LLM_MAX_RETRIES=3
LLM_RETRY_BASE_DELAY=1.0

# Cost control (in USD)
LLM_DAILY_COST_WARNING_USD=1.0
LLM_DAILY_COST_LIMIT_USD=10.0

# =============================================================================
# Telegram Bot Configuration
# =============================================================================

# Required: Create bot via @BotFather and get token
TELEGRAM_BOT_TOKEN=

# Required: Your Telegram user chat ID (logged when you /start the bot)
TELEGRAM_CHAT_ID=

# Notification settings
NOTIFICATIONS_ENABLED=true
DAILY_SUMMARY_HOUR=20              # 8 PM (24-hour format)
REMINDER_WINDOW_START=8            # 8 AM
REMINDER_WINDOW_END=21             # 9 PM
REMINDER_ADVANCE_HOURS=24          # Remind 24h before due date

# =============================================================================
# Logging
# =============================================================================

LOG_LEVEL=INFO

# =============================================================================
# Environment-Specific Examples (Same-Host Deployment)
# =============================================================================
#
# When running multiple environments on the same host, ensure:
# - Different API ports (8000, 8001, 8002)
# - Separate data directories
# - Different Telegram bots
# - Different systemd service names (helionyx-dev, helionyx-staging, helionyx)
#
# .env.dev:
#   LOG_LEVEL=DEBUG
#   API_PORT=8000
#   EVENT_STORE_PATH=./data/dev/events
#   PROJECTIONS_DB_PATH=./data/dev/projections/helionyx.db
#   TELEGRAM_BOT_TOKEN=<dev_bot_token>
#   OPENAI_MODEL=gpt-4o-mini
#   NOTIFICATIONS_ENABLED=false
#
# .env.staging:
#   LOG_LEVEL=INFO
#   API_PORT=8001
#   EVENT_STORE_PATH=./data/staging/events
#   PROJECTIONS_DB_PATH=./data/staging/projections/helionyx.db
#   TELEGRAM_BOT_TOKEN=<staging_bot_token>
#
# .env.live:
#   LOG_LEVEL=WARNING
#   API_PORT=8002
#   EVENT_STORE_PATH=/var/lib/helionyx/live/events
#   PROJECTIONS_DB_PATH=/var/lib/helionyx/live/projections/helionyx.db
#   TELEGRAM_BOT_TOKEN=<live_bot_token>
#   LLM_DAILY_COST_LIMIT_USD=50.0
